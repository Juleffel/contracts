{"version":3,"sources":["re_com/splits.cljs"],"mappings":"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","names":["re-com.splits/drag-handle","orientation","over?","vertical?","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","length","width","pos1","pos2","color","border","flex-flow","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","re-com.box/flex-flow-style","re-com.splits/hv-split-args-desc","re-com.validate/string-or-hiccup?","cljs.core/string?","cljs.core/fn?","re-com.validate/number-or-string?","re-com.validate/css-style?","re-com.validate/html-attr?","var_args","args__4795__auto__","len__4789__auto__","i__4790__auto__","argseq__4796__auto__","cljs.core/IndexedSeq","re-com.splits/h-split","p__45637","map__45638","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$3","cljs.core.get.cljs$core$IFn$_invoke$arity$2","js/Error","seq45635","self__4777__auto__","cljs.core/seq","size","height","on-split-change","initial-split","splitter-size","margin","args","js/goog.DEBUG","re_com.validate.validate_args.cljs$core$IFn$_invoke$arity$variadic","re-com.validate/extract-arg-data","p1__45633#","container-id","cljs.core.gensym.cljs$core$IFn$_invoke$arity$1","split-perc","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","js/parseInt","dragging?","stop-drag","G__45643","cljs.core/deref","cljs.core/reset!","calc-perc","mouse-x","container","re-com.util/get-element-by-id","offsets","re-com.util/sum-scroll-offsets","c-width","c-left-x","relative-x","<html>?","js/document","mouseout","event","mousemove","mousedown","mouseover-split","mouseout-split","make-container-attrs","class","style","attr","in-drag?","re-com.box/flex-child-style","make-panel-attrs","percentage","make-splitter-attrs","p__45668","map__45670","panel-1","panel-2","_size","_width","_height","_on-split-change","_initial-split","_splitter-size","_margin","re-com.splits/v-split","p__45686","map__45687","seq45684","p1__45678#","G__45692","mouse-y","c-height","c-top-y","relative-y","p__45708","map__45710"],"sourcesContent":["(ns re-com.splits\r\n  (:require-macros [re-com.core :refer [handler-fn]])\r\n  (:require [re-com.util        :refer [get-element-by-id sum-scroll-offsets]]\r\n            [re-com.box         :refer [flex-child-style flex-flow-style]]\r\n            [re-com.validate    :refer [string-or-hiccup? number-or-string? html-attr? css-style?] :refer-macros [validate-args-macro]]\r\n            [reagent.core       :as    reagent]))\r\n\r\n\r\n(defn drag-handle\r\n  \"Return a drag handle to go into a vertical or horizontal splitter bar:\r\n    orientation: Can be :horizonal or :vertical\r\n    over?:       When true, the mouse is assumed to be over the splitter so show a bolder color\"\r\n  [orientation over?]\r\n  (let [vertical? (= orientation :vertical)\r\n        length    \"20px\"\r\n        width     \"8px\"\r\n        pos1      \"3px\"\r\n        pos2      \"3px\"\r\n        color     (if over? \"#999\" \"#ccc\")\r\n        border    (str \"solid 1px \" color)\r\n        flex-flow (str (if vertical? \"row\" \"column\") \" nowrap\")]\r\n    [:div {:class \"display-flex\"\r\n           :style (merge (flex-flow-style flex-flow)\r\n                         {:width  (if vertical? width length)\r\n                          :height (if vertical? length width)\r\n                          :margin \"auto\"})}\r\n     [:div {:style (if vertical?\r\n                     {:width pos1   :height length :border-right  border}\r\n                     {:width length :height pos1   :border-bottom border})}]\r\n     [:div {:style (if vertical?\r\n                     {:width pos2   :height length :border-right  border}\r\n                     {:width length :height pos2   :border-bottom border})}]]))\r\n\r\n\r\n;; ------------------------------------------------------------------------------------\r\n;;  Component: h-split\r\n;; ------------------------------------------------------------------------------------\r\n\r\n(def hv-split-args-desc\r\n  [{:name :panel-1         :required true                  :type \"hiccup\"          :validate-fn string-or-hiccup? :description \"markup to go in the left (or top) panel\"}\r\n   {:name :panel-2         :required true                  :type \"hiccup\"          :validate-fn string-or-hiccup? :description \"markup to go in the right (or bottom) panel\"}\r\n   {:name :size            :required false :default \"auto\" :type \"string\"          :validate-fn string?           :description [:span \"applied to the outer container of the two panels. Equivalent to CSS style \" [:span.bold \"flex\"] \".\" [:br]  \"Examples: \" [:code \"initial\"] \", \" [:code \"auto\"] \", \" [:code \"none\"]\", \" [:code \"100px\"] \", \" [:code \"2\"] \" or a generic triple of \" [:code \"grow shrink basis\"]]}\r\n   {:name :width           :required false                 :type \"string\"          :validate-fn string?           :description \"width of the outer container of the two panels. A CSS width style\"}\r\n   {:name :height          :required false                 :type \"string\"          :validate-fn string?           :description \"height of the outer container of the two panels. A CSS height style\"}\r\n   {:name :on-split-change :required false                 :type \"double -> nil\"   :validate-fn fn?               :description [:span \"called when the user moves the splitter bar (on mouse up, not on each mouse move). Given the new \" [:code \":panel-1\"] \" percentage split\"]}\r\n   {:name :initial-split   :required false :default 50     :type \"double | string\" :validate-fn number-or-string? :description [:span \"initial split percentage for \" [:code \":panel-1\"] \". Can be double value or string (with/without percentage sign)\"]}\r\n   {:name :splitter-size   :required false :default \"8px\"  :type \"string\"          :validate-fn string?           :description \"thickness of the splitter\"}\r\n   {:name :margin          :required false :default \"8px\"  :type \"string\"          :validate-fn string?           :description \"thickness of the margin around the panels\"}\r\n   {:name :class           :required false                 :type \"string\"          :validate-fn string?           :description \"CSS class names, space separated, applied to outer container\"}\r\n   {:name :style           :required false                 :type \"CSS style map\"   :validate-fn css-style?        :description \"CSS styles to add or override, applied to outer container\"}\r\n   {:name :attr            :required false                 :type \"HTML attr map\"   :validate-fn html-attr?        :description [:span \"HTML attributes, like \" [:code \":on-mouse-move\"] [:br] \"No \" [:code \":class\"] \" or \" [:code \":style\"] \"allowed, applied to outer container\"]}])\r\n\r\n(defn h-split\r\n  \"Returns markup for a horizontal layout component\"\r\n  [& {:keys [size width height on-split-change initial-split splitter-size margin]\r\n      :or   {size \"auto\" initial-split 50 splitter-size \"8px\" margin \"8px\"}\r\n      :as   args}]\r\n  {:pre [(validate-args-macro hv-split-args-desc args \"h-split\")]}\r\n  (let [container-id         (gensym \"h-split-\")\r\n        split-perc           (reagent/atom (js/parseInt initial-split)) ;; splitter position as a percentage of width\r\n        dragging?            (reagent/atom false)                       ;; is the user dragging the splitter (mouse is down)?\r\n        over?                (reagent/atom false)                       ;; is the mouse over the splitter, if so, highlight it\r\n\r\n        stop-drag            (fn []\r\n                               (when on-split-change (on-split-change @split-perc))\r\n                               (reset! dragging? false))\r\n\r\n        calc-perc            (fn [mouse-x]                                                 ;; turn a mouse y coordinate into a percentage position\r\n                               (let [container  (get-element-by-id container-id)           ;; the outside container\r\n                                     offsets    (sum-scroll-offsets container)             ;; take any scrolling into account\r\n                                     c-width    (.-clientWidth container)                  ;; the container's width\r\n                                     c-left-x   (.-offsetLeft container)                   ;; the container's left X\r\n                                     relative-x (+ (- mouse-x c-left-x) (:left offsets))]  ;; the X of the mouse, relative to container\r\n                                 (* 100.0 (/ relative-x c-width))))                        ;; do the percentage calculation\r\n\r\n        <html>?              #(= % (.-documentElement js/document))                        ;; test for the <html> element\r\n\r\n        mouseout             (fn [event]\r\n                               (if (<html>? (.-relatedTarget event))                       ;; stop drag if we leave the <html> element\r\n                                 (stop-drag)))\r\n\r\n        mousemove            (fn [event]\r\n                               (reset! split-perc (calc-perc (.-clientX event))))\r\n\r\n        mousedown            (fn [event]\r\n                               (.preventDefault event)                                    ;; stop selection of text during drag\r\n                               (reset! dragging? true))\r\n\r\n        mouseover-split      #(reset! over? true) ;; true CANCELs mouse-over (false cancels all others)\r\n        mouseout-split       #(reset! over? false)\r\n\r\n        make-container-attrs (fn [class style attr in-drag?]\r\n                               (merge {:class (str \"rc-h-split display-flex \" class)\r\n                                       :id    container-id\r\n                                       :style (merge (flex-child-style size)\r\n                                                     (flex-flow-style \"row nowrap\")\r\n                                                     {:margin margin\r\n                                                      :width  width\r\n                                                      :height height}\r\n                                                     style)}\r\n                                      (when in-drag?                             ;; only listen when we are dragging\r\n                                        {:on-mouse-up   (handler-fn (stop-drag))\r\n                                         :on-mouse-move (handler-fn (mousemove event))\r\n                                         :on-mouse-out  (handler-fn (mouseout event))})\r\n                                      attr))\r\n\r\n        make-panel-attrs     (fn [class in-drag? percentage]\r\n                               {:class (str \"display-flex \" class)\r\n                                :style (merge (flex-child-style (str percentage \" 1 0px\"))\r\n                                              {:overflow \"hidden\"} ;; TODO: Shouldn't have this...test removing it\r\n                                              (when in-drag? {:pointer-events \"none\"}))})\r\n\r\n        make-splitter-attrs  (fn [class]\r\n                               {:class         (str \"display-flex \" class)\r\n                                :on-mouse-down (handler-fn (mousedown event))\r\n                                :on-mouse-over (handler-fn (mouseover-split))\r\n                                :on-mouse-out  (handler-fn (mouseout-split))\r\n                                :style         (merge (flex-child-style (str \"0 0 \" splitter-size))\r\n                                                      {:cursor \"col-resize\"}\r\n                                                      (when @over? {:background-color \"#f8f8f8\"}))})]\r\n\r\n    (fn\r\n      [& {:keys [panel-1 panel-2 _size _width _height _on-split-change _initial-split _splitter-size _margin class style attr]}]\r\n      [:div (make-container-attrs class style attr @dragging?)\r\n       [:div (make-panel-attrs \"rc-h-split-top\" @dragging? @split-perc)\r\n        panel-1]\r\n       [:div (make-splitter-attrs \"rc-h-split-splitter\")\r\n        [drag-handle :vertical @over?]]\r\n       [:div (make-panel-attrs \"rc-h-split-bottom\" @dragging? (- 100 @split-perc))\r\n        panel-2]])))\r\n\r\n\r\n;; ------------------------------------------------------------------------------------\r\n;;  Component: v-split\r\n;; ------------------------------------------------------------------------------------\r\n\r\n(defn v-split\r\n  \"Returns markup for a vertical layout component\"\r\n  [& {:keys [size width height on-split-change initial-split splitter-size margin]\r\n      :or   {size \"auto\" initial-split 50 splitter-size \"8px\" margin \"8px\"}\r\n      :as   args}]\r\n  {:pre [(validate-args-macro hv-split-args-desc args \"v-split\")]}\r\n  (let [container-id         (gensym \"v-split-\")\r\n        split-perc           (reagent/atom (js/parseInt initial-split))  ;; splitter position as a percentage of height\r\n        dragging?            (reagent/atom false)                        ;; is the user dragging the splitter (mouse is down)?\r\n        over?                (reagent/atom false)                        ;; is the mouse over the splitter, if so, highlight it\r\n\r\n        stop-drag            (fn []\r\n                               (when on-split-change (on-split-change @split-perc))\r\n                               (reset! dragging? false))\r\n\r\n        calc-perc            (fn [mouse-y]                                                 ;; turn a mouse y coordinate into a percentage position\r\n                               (let [container  (get-element-by-id container-id)           ;; the outside container\r\n                                     offsets    (sum-scroll-offsets container)             ;; take any scrolling into account\r\n                                     c-height   (.-clientHeight container)                 ;; the container's height\r\n                                     c-top-y    (.-offsetTop container)                    ;; the container's top Y\r\n                                     relative-y (+ (- mouse-y c-top-y) (:top offsets))]    ;; the Y of the mouse, relative to container\r\n                                 (* 100.0 (/ relative-y c-height))))                       ;; do the percentage calculation\r\n\r\n        <html>?              #(= % (.-documentElement js/document))                        ;; test for the <html> element\r\n\r\n        mouseout             (fn [event]\r\n                               (if (<html>? (.-relatedTarget event))                       ;; stop drag if we leave the <html> element\r\n                                 (stop-drag)))\r\n\r\n        mousemove            (fn [event]\r\n                               (reset! split-perc (calc-perc (.-clientY event))))\r\n\r\n        mousedown            (fn [event]\r\n                               (.preventDefault event)                                    ;; stop selection of text during drag\r\n                               (reset! dragging? true))\r\n\r\n        mouseover-split      #(reset! over? true)\r\n        mouseout-split       #(reset! over? false)\r\n\r\n        make-container-attrs (fn [class style attr in-drag?]\r\n                               (merge {:class (str \"rc-v-split display-flex \" class)\r\n                                       :id    container-id\r\n                                       :style (merge (flex-child-style size)\r\n                                                     (flex-flow-style \"column nowrap\")\r\n                                                     {:margin margin\r\n                                                      :width  width\r\n                                                      :height height}\r\n                                                     style)}\r\n                                      (when in-drag?                             ;; only listen when we are dragging\r\n                                        {:on-mouse-up   (handler-fn (stop-drag))\r\n                                         :on-mouse-move (handler-fn (mousemove event))\r\n                                         :on-mouse-out  (handler-fn (mouseout event))})\r\n                                      attr))\r\n\r\n        make-panel-attrs     (fn [class in-drag? percentage]\r\n                               {:class (str \"display-flex \" class)\r\n                                :style (merge (flex-child-style (str percentage \" 1 0px\"))\r\n                                              {:overflow \"hidden\"} ;; TODO: Shouldn't have this...test removing it\r\n                                              (when in-drag? {:pointer-events \"none\"}))})\r\n\r\n        make-splitter-attrs  (fn [class]\r\n                               {:class         (str \"display-flex \" class)\r\n                                :on-mouse-down (handler-fn (mousedown event))\r\n                                :on-mouse-over (handler-fn (mouseover-split))\r\n                                :on-mouse-out  (handler-fn (mouseout-split))\r\n                                :style         (merge (flex-child-style (str \"0 0 \" splitter-size))\r\n                                                      {:cursor  \"row-resize\"}\r\n                                                      (when @over? {:background-color \"#f8f8f8\"}))})]\r\n\r\n    (fn\r\n      [& {:keys [panel-1 panel-2 _size _width _height _on-split-change _initial-split _splitter-size _margin class style attr]}]\r\n      [:div (make-container-attrs class style attr @dragging?)\r\n       [:div (make-panel-attrs \"re-v-split-top\" @dragging? @split-perc)\r\n        panel-1]\r\n       [:div (make-splitter-attrs \"re-v-split-splitter\")\r\n        [drag-handle :horizontal @over?]]\r\n       [:div (make-panel-attrs \"re-v-split-bottom\" @dragging? (- 100 @split-perc))\r\n        panel-2]])))\r\n"]}