{"version":3,"sources":["multis/subs.cljs"],"mappings":";;;;AAMA,AAAA,AAAA,AAAAA,AAAME;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;;AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAD;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAAE;;AAAA,AAAA,AAAAA,AAAA;;;;AAAA;;;;AAAA,AAAAC,AAAA,AAAAC,AAAA,AAAAJ,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAAI;;;;;AAAA,AAAA,AAAA,AAAMJ,AACFW;AADJ,AAEG,AAAAC,AACCD;AADDE,AAEC,AAAKE,AAAGC;AAAR,AACE,AAACD,AAAAA,AAAAA,AAAGJ,AAAAA;;AAHP,AAAA,AAAAC,AAAAC,AAAAD,AAAAC,AAACC,AAAAA,AAAAA;;;AAFJ,AAAA,AAAA,AAAA,AAAMd,AAMFiB,AAAaN;AANjB,AAOG,AAAAO,AACCD;AADDE,AAEC,AAAKJ,AAAGC;AAAR,AACE,AAACI,AAAOL,AAAGJ;;AAHd,AAAA,AAAAO,AAAAC,AAAAD,AAAAC,AAACL,AAAAA,AAAAA;;;AAPJ;AAAA,AAAA,AAAA,AAAAR,AAAMN;AAAN,AAAA,AAAAO,AAAA,AAAAC,AAAAF;AAAAA,AAAA,AAAAG,AAAAH;AAAA,AAAA,AAAAI,AAAA;AAAA,AAAA,AAAAA,AAAAH,AAAAD;;;AAAA,AAAA,AAAA,AAAMN;;AAAN,AAYA,AAAAqB,AAAA;AAAAC,AAEC,AAAKP,AAAGC;AAAR,AACE,AAACO,AAAK,AAAA,AAACC,AAAIT;;AAHd,AAAA,AAAAM,AAAAC,AAAAD,AAAAC,AAACR,AAAAA,AAAAA;AAKD,AAAAW,AAAA;AAAAC,AAEC,AAAKX,AAAGC;AAAR,AACE,AAACO,AAAK,AAAA,AAACC,AAAIT;;AAHd,AAAA,AAAAU,AAAAC,AAAAD,AAAAC,AAACZ,AAAAA,AAAAA;AAKD,AAAA,AAACa;AAED,AAAAC,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA,AAAA,AAAA;AAAAC,AAGC,AAAKC;AAAL,AAAQA;;AAHT,AAAA,AAAAJ,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAACjB,AAAAA,AAAAA;AAKD,AAAAmB,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAGC,AAAKJ;AAAL,AAAQ,AAAA,AAACK,AAAE,AAACC,AAAMN;;AAHnB,AAAA,AAAAC,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAACtB,AAAAA,AAAAA;AAKD,AAAAyB,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA,AAAA,AAAA;AAAAC,AAGC,AAAKV;AAAL,AAAQA;;AAHT,AAAA,AAAAO,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAAC5B,AAAAA,AAAAA;AAKD,AAAA6B,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA,AAAA,AAAA;AAAAC,AAGC,AAAKd;AAAL,AAAQA;;AAHT,AAAA,AAAAW,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAAChC,AAAAA,AAAAA;AAKD,AAAAiC,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA,AAAA,AAAA;AAAAC,AAGC,AAAKlB;AAAL,AAAQA;;AAHT,AAAA,AAAAe,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAACpC,AAAAA,AAAAA;AAKD,AAAAqC,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA,AAAA,AAAA;AAAAC,AAGC,AAAKtB;AAAL,AAAQA;;AAHT,AAAA,AAAAmB,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAACxC,AAAAA,AAAAA;AAKD,AAAAyC,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAMC,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAME;AAAN,AAAAD,AAAAD,AAAA,AAAA,AAAQG;AAAR,AAAAF,AAAAD,AAAA,AAAA,AAAUI;AAAV,AAAAH,AAAAD,AAAA,AAAA,AAAYK;AAAZ,AAAA,AAAA,AAAA,AAAA,AAAA,AACiBH,AACKC,AACX,AAAA,AAAKC,AACH,AAAA,AAAKC;;AAVnB,AAAA,AAAAhB,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAT,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAAC,AAAClD,AAAAA,AAAAA;AAYD,AAAA0D,AAAA;AAAAC,AAAA;AAAAC,AAAA,AAAA;AAAAC,AAGC,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAI,AAAA,AAAAzD,AAAAqD,AAAA;AAAAK,AAAA,AAAA1D,AAAAqD,AAAA;AAAAM,AAAA,AAAA3D,AAAAqD,AAAA;AAAAO,AAAA,AAAA5D,AAAAqD,AAAA;AAAA,AACE,AAACQ,AAA2BJ,AAAaC,AAAkBC,AAAOC;;AAJrE,AAAA,AAAAZ,AAAAC,AAAAC,AAAAC,AAAAH,AAAAC,AAAAC,AAAAC,AAAC7D,AAAAA,AAAAA","names":["var_args","G__53753","multis.subs/reg-sub-db","args-arr__4810__auto__","len__4789__auto__","i__4790__auto__","argseq__4811__auto__","cljs.core/IndexedSeq","seq53751","G__53752","cljs.core/first","cljs.core/next","self__4776__auto__","db-path","G__53756","G__53757","re-frame.core/reg-sub","db","_","event-name","G__53759","G__53760","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","G__53762","G__53763","cljs.core/vals","cljs.core.get.cljs$core$IFn$_invoke$arity$2","G__53765","G__53766","multis.subs.reg_sub_db.cljs$core$IFn$_invoke$arity$1","G__53767","G__53768","G__53769","G__53770","v","G__53771","G__53772","G__53773","G__53774","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/count","G__53775","G__53776","G__53777","G__53778","G__53781","G__53782","G__53783","G__53784","G__53786","G__53787","G__53788","G__53789","G__53790","G__53791","G__53792","G__53793","G__53795","G__53796","G__53797","G__53798","G__53799","G__53800","G__53801","G__53802","G__53803","G__53804","p__53809","vec__53810","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","u","r","a","d","G__53816","G__53817","G__53818","G__53819","p__53820","map__53821","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","user-address","recipient-address","amount","duration","multis.utils/stream-values-valid?"],"sourcesContent":["(ns multis.subs\n  (:require\n   [re-frame.core :as rf]\n   [multis.utils :as utils]))\n\n;; Helper for simple db subscriptions\n(defn reg-sub-db\n  ([db-path]\n   (rf/reg-sub\n    db-path\n    (fn [db _]\n      (db db-path))))\n  ([event-name & db-path]\n   (rf/reg-sub\n    event-name\n    (fn [db _]\n      (get-in db db-path)))))\n\n(rf/reg-sub\n :user-accounts\n (fn [db _]\n   (vals (get db :user-accounts))))\n\n(rf/reg-sub\n :recipient-accounts\n (fn [db _]\n   (vals (get db :recipient-accounts))))\n\n(reg-sub-db :token-abi)\n\n(rf/reg-sub\n :new-recipient-address\n :<- [:form-value [:new-recipient-address]]\n (fn [v] v))\n\n(rf/reg-sub\n :new-recipient-address-valid?\n :<- [:new-recipient-address]\n (fn [v] (= (count v) 42)))\n\n(rf/reg-sub\n :stream-amount\n :<- [:form-value [:stream-amount]]\n (fn [v] v))\n\n(rf/reg-sub\n :stream-duration\n :<- [:form-value [:stream-duration]]\n (fn [v] v))\n\n(rf/reg-sub\n :selected-user-account\n :<- [:form-value [:selected-user-account]]\n (fn [v] v))\n\n(rf/reg-sub\n :selected-recipient-account\n :<- [:form-value [:selected-recipient-account]]\n (fn [v] v))\n\n(rf/reg-sub\n :stream-values\n :<- [:selected-user-account]\n :<- [:selected-recipient-account]\n :<- [:stream-amount]\n :<- [:stream-duration]\n (fn [[u r a d]]\n   {:user-address u\n    :recipient-address r\n    :amount (int a)\n    :duration (int d)}))\n\n(rf/reg-sub\n :stream-values-valid?\n :<- [:stream-values]\n (fn [{:keys [:user-address :recipient-address :amount :duration]}]\n   (utils/stream-values-valid? user-address recipient-address amount duration)))"]}