{"version":3,"sources":["multis/subs.cljs"],"mappings":"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","names":["var_args","G__53211","multis.subs/reg-sub-db","args-arr__4810__auto__","len__4789__auto__","i__4790__auto__","argseq__4811__auto__","cljs.core/IndexedSeq","seq53209","G__53210","cljs.core/first","cljs.core/next","self__4776__auto__","db-path","G__53212","G__53213","re-frame.core/reg-sub","db","_","event-name","G__53253","G__53254","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","G__53260","G__53261","cljs.core/vals","cljs.core.get.cljs$core$IFn$_invoke$arity$2","G__53262","G__53263","multis.subs.reg_sub_db.cljs$core$IFn$_invoke$arity$1","G__53268","G__53269","G__53270","G__53271","v","G__53275","G__53276","G__53277","G__53278","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/count","G__53285","G__53286","G__53287","G__53288","G__53289","G__53290","G__53291","G__53292","G__53294","G__53295","G__53296","G__53297","G__53300","G__53301","G__53302","G__53303","G__53306","G__53307","G__53308","G__53309","G__53310","G__53311","G__53312","G__53313","G__53314","G__53315","p__53318","vec__53320","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","u","r","a","d","G__53323","G__53324","G__53325","G__53326","p__53327","map__53328","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","user-address","recipient-address","amount","duration","multis.utils/stream-values-valid?"],"sourcesContent":["(ns multis.subs\r\n  (:require\r\n   [re-frame.core :as rf]\r\n   [multis.utils :as utils]))\r\n\r\n;; Helper for simple db subscriptions\r\n(defn reg-sub-db\r\n  ([db-path]\r\n   (rf/reg-sub\r\n    db-path\r\n    (fn [db _]\r\n      (db db-path))))\r\n  ([event-name & db-path]\r\n   (rf/reg-sub\r\n    event-name\r\n    (fn [db _]\r\n      (get-in db db-path)))))\r\n\r\n(rf/reg-sub\r\n :user-accounts\r\n (fn [db _]\r\n   (vals (get db :user-accounts))))\r\n\r\n(rf/reg-sub\r\n :recipient-accounts\r\n (fn [db _]\r\n   (vals (get db :recipient-accounts))))\r\n\r\n(reg-sub-db :token-abi)\r\n\r\n(rf/reg-sub\r\n :new-recipient-address\r\n :<- [:form-value [:new-recipient-address]]\r\n (fn [v] v))\r\n\r\n(rf/reg-sub\r\n :new-recipient-address-valid?\r\n :<- [:new-recipient-address]\r\n (fn [v] (= (count v) 42)))\r\n\r\n(rf/reg-sub\r\n :stream-amount\r\n :<- [:form-value [:stream-amount]]\r\n (fn [v] v))\r\n\r\n(rf/reg-sub\r\n :stream-duration\r\n :<- [:form-value [:stream-duration]]\r\n (fn [v] v))\r\n\r\n(rf/reg-sub\r\n :selected-user-account\r\n :<- [:form-value [:selected-user-account]]\r\n (fn [v] v))\r\n\r\n(rf/reg-sub\r\n :selected-recipient-account\r\n :<- [:form-value [:selected-recipient-account]]\r\n (fn [v] v))\r\n\r\n(rf/reg-sub\r\n :stream-values\r\n :<- [:selected-user-account]\r\n :<- [:selected-recipient-account]\r\n :<- [:stream-amount]\r\n :<- [:stream-duration]\r\n (fn [[u r a d]]\r\n   {:user-address u\r\n    :recipient-address r\r\n    :amount (int a)\r\n    :duration (int d)}))\r\n\r\n(rf/reg-sub\r\n :stream-values-valid?\r\n :<- [:stream-values]\r\n (fn [{:keys [:user-address :recipient-address :amount :duration]}]\r\n   (utils/stream-values-valid? user-address recipient-address amount duration)))"]}