{"version":3,"sources":["multis/db.cljs"],"mappings":";;;;;AAQA,AAAA,AAAMA,AACHC;AADH,AACM,AAAKC;AAAL,AAAU,AAACC,AAAEF,AAAE,AAACG,AAAKF;;;AAC3B,AAAA,AAAMG,AAAUC;AAAhB,AAAmB;AAAA,AAAO,AAACC,AAAS,AAAKC;AAAL,AAAQ,AAACF,AAAAA,AAAAA;AAAI,AAACG,AAAMC;;;AAExD,AAAA,AAAMC;AAAN,AACE,AAAA,AACE,AAACE;AADH,AAAAD,AAEkBE;AAFlB,AAEoB,AAAA,AAA4CA;;AAElE,AAAAC,AAAA,AAAA,AAAA,AAAA,AACE,AAACC,AACC,AAAChB,AAAMiB,AACP,AAACZ,AAASM;AAEd,AAAAI,AAAA,AAAA,AAAA,AAAA,AAAwBG;AAExB,AAAAH,AAAA,AAAA,AAAA,AAAA,AAAcI;AACd,AAAAJ,AAAA,AAAA,AAAA,AAAA,AAAiBI;AACjB,AAAAJ,AAAA,AAAA,AAAA,AAAA,AAAaE;AACb,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAaE;AACb,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAkBE;AAClB,AAAAF,AAAA,AAAA,AAAA,AAAA,AAAkB,AAAAK,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAA,AAAAA;AAAA,AAAA,AAAAE,AAAAF,AAAA;AAAA,AAAAA;AAAA,AAAA,AAAAE,AAAAF,AAAA;AAAA,AAAAA;AAAA,AAAA,AAAAE,AAAAF,AAAA;AAAA,AAAAA;AAAA,AAAA,AAAAE,AAAAF,AAAA;AAAA,AAAAA;AAAA,AAAA,AAAAE,AAAAF,AAAA;AAAA,AAAAA;AAAA,AAAA,AAAA,AAAAC,AAAAD,AAAA,AAAAE,AAAAF,AAAA,AAAA,AAAAE,AAAAF,AAAA,AAAA,AAAAE,AAAAF,AAAA,AAAA,AAAAE,AAAAF,AAAA,AAAA,AAAAE,AAAAF,AAAA;AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAElB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKG,AACI,AAACb;AAgBV,AAAAI,AAAA,AAAA,AAAA,AAAA,AACE,AAAAK,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAK;AAAA,AAAA,AAAAH,AAAAG;AAAA,AAAAA;AAAA,AAAA,AAAAF,AAAAE,AAAA;AAAA,AAAAA;AAAA,AAAA,AAAA,AAAAH,AAAAG,AAAA,AAAAF,AAAAE,AAAA;AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA","names":["multis.db/type?","t","obj","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/type","multis.db/make-gen","f","cljs.spec.gen.alpha.fmap.cljs$core$IFn$_invoke$arity$variadic","a","cljs.spec.alpha.gen.cljs$core$IFn$_invoke$arity$1","cljs.core/int?","multis.db/get-web3","e54183","multis.cljs-web3/create-web3-rinkeby","e","cljs.spec.alpha/def-impl","cljs.spec.alpha/with-gen","cljs.core/any?","cljs.core/boolean?","cljs.core/string?","cljs.spec.alpha/map-spec-impl","G__54194","cljs.core/map?","cljs.core/contains?","multis.db/initial-db","G__54262"],"sourcesContent":["(ns multis.db\r\n  (:require\r\n   [cljs.spec.alpha :as s]\r\n   [clojure.spec.gen.alpha :as gen]\r\n   \r\n   [multis.cljs-web3 :as cljs-web3]))\r\n\r\n;; === UTILS ===\r\n(defn type?\r\n  [t] (fn [obj] (= t (type obj))))\r\n(defn make-gen [f] (fn [] (gen/fmap (fn [a] (f)) (s/gen int?))))\r\n\r\n(defn get-web3 []\r\n  (try\r\n    (cljs-web3/create-web3-rinkeby)\r\n    (catch :default e (str \"Caught exception while create Web3: \" e))))\r\n\r\n(s/def ::web3\r\n  (s/with-gen\r\n    (type? any?)\r\n    (make-gen get-web3)))\r\n\r\n(s/def ::provides-web3? boolean?)\r\n\r\n(s/def ::name string?)\r\n(s/def ::address string?)\r\n(s/def ::abi any?)\r\n(s/def ::bin any?)\r\n(s/def ::instance any?)\r\n(s/def ::contract (s/keys :req-un [::name ::address ::abi ::bin ::instance]))\r\n\r\n(def initial-db\r\n  {:web3 (get-web3)\r\n   :streams []\r\n   :contracts\r\n   {:test {:name \"test\"\r\n           :address \"0x681FbA7ceF62673C01184cFa832CE3CE298d7e86\"}\r\n    :sablier {:name \"sablier\"\r\n              :address \"0xc04Ad234E01327b24a831e3718DBFcbE245904CC\"}\r\n    :token {:name \"token\"\r\n            :address \"0x8888580490b4CECA0c86e6F85E08F36cd181D80c\"}} ; Ethereum\r\n\r\n   :user-accounts\r\n   {}\r\n   :recipient-accounts\r\n   {}\r\n   :form-doc {}})\r\n\r\n(s/def ::db-spec\r\n  (s/keys :req-un [::web3]))\r\n"]}